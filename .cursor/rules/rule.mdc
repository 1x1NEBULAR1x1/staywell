---
alwaysApply: true
---

всегда отвечай на русском, но в коде используй английский язык для комментариев в сложных местах для описания логики и текста ответов и компонентов. ТОЛЬКО СТРОГАЯ ТИПИЗАЦИЯ. НЕ ПЕРЕЗАПУСКАЙ ПРОЕКТ, НЕ ДЕЛАЙ БИЛДЫ И НЕ ИСПОЛЬЗУЙ ПРИВЕДЕНИЕ ТИПОВ ИЛИ any В ПРОБЛЕМНЫХ МЕСТАХ ИЛИ БЕЗ РАЗРЕШЕНИЯ. Пиши код согласно принципам SOLID и указанным ниже правилам и структуре проекта. Перед модернизацией или созданием нового кода, исследуй связанные модели из базы данных в shared/prisma/schema.prisma, перепроверяй соответствие backend и frontend частей на полное соответствие функционала

frontend: 
  Папка app служит только для лейаутов и страниц, сами компоненты страниц пиши в папке src/components/{admin|public}/pages/{route | route/[id]} в соответствии с расположением страницы в навигации. Каждая страница должна быть разбита на компоненты, в зависимости от сложности. Компоненты помещай в папку {page}/components/{name/name.tsx + index.ts}...{/components/{name/name.tsx + index.ts}...} и так дажее вложено, если компонент тяжёлый и должен быть раздроблен ещё больше. Стили писать в одноимённом компоненту файле в его же папке: name.module.scss с использованием scss переменных через @use "@/components/styles/_variables.scss" as *; 
  Общие компоненты хранятся в папках src/components/{common|admin/common|public/common}
  Хуки располагаются в папке src/hooks  в зависимости от сферы использования - admin|common|public, так же и с глобальными сторами zustand - src/stores... Утилиты и апи сервисы с типами расположены в папке src/lib

shared: 
  Общие типы для дто и базы данных, а так же расширенные типы для релаций между моделями в бд (вероятнее всего, нет необходимости что-либо изменять)

backend:
  Всё приложение src/app делится на модули согласно отношений - users-section, apartments-section и так далее. Модуль секции включает в себя конкретные функциональные модули для работы с брейкпоинтами, которые состоят из: module.ts - сам модуль, controller.ts - контроллер, services/ - сервисы {crud|list|...}.service.ts и dto/ - дто {create|update|filters|...}.dto.ts. Общие модули лежат в папке src/lib/{redis|prisma|websocket|files}/ , а общие декораторы, интерсепторы, гварды и утилиты расположены в папке src/lib/common
